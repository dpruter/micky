(function(){function t(e,n,i){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;if(e._chain&&(e=e._wrapped),n._chain&&(n=n._wrapped),e.isEqual&&F.isFunction(e.isEqual))return e.isEqual(n);if(n.isEqual&&F.isFunction(n.isEqual))return n.isEqual(e);var r=c.call(e);if(r!=c.call(n))return!1;switch(r){case"[object String]":return e==String(n);case"[object Number]":return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object RegExp]":return e.source==n.source&&e.global==n.global&&e.multiline==n.multiline&&e.ignoreCase==n.ignoreCase}if("object"!=typeof e||"object"!=typeof n)return!1;for(var s=i.length;s--;)if(i[s]==e)return!0;i.push(e);var o=0,u=!0;if("[object Array]"==r){if(o=e.length,u=o==n.length)for(;o--&&(u=o in e==o in n&&t(e[o],n[o],i)););}else{if("constructor"in e!="constructor"in n||e.constructor!=n.constructor)return!1;for(var a in e)if(F.has(e,a)&&(o++,!(u=F.has(n,a)&&t(e[a],n[a],i))))break;if(u){for(a in n)if(F.has(n,a)&&!o--)break;u=!o}}return i.pop(),u}var e=this,n=e._,i={},r=Array.prototype,s=Object.prototype,o=Function.prototype,u=r.push,a=r.slice,l=r.unshift,c=s.toString,h=s.hasOwnProperty,p=r.forEach,d=r.map,f=r.reduce,v=r.reduceRight,g=r.filter,m=r.every,y=r.some,_=r.indexOf,b=r.lastIndexOf,w=Array.isArray,$=Object.keys,x=o.bind,F=function(t){return new N(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=F),exports._=F):e._=F,F.VERSION="1.3.3";var E=F.each=F.forEach=function(t,e,n){if(null!=t)if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,s=t.length;s>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var o in t)if(F.has(t,o)&&e.call(n,t[o],o,t)===i)return};F.map=F.collect=function(t,e,n){var i=[];return null==t?i:d&&t.map===d?t.map(e,n):(E(t,function(t,r,s){i[i.length]=e.call(n,t,r,s)}),i)},F.reduce=F.foldl=F.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return i&&(e=F.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(E(t,function(t,s,o){r?n=e.call(i,n,t,s,o):(n=t,r=!0)}),!r)throw new TypeError("Reduce of empty array with no initial value");return n},F.reduceRight=F.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),v&&t.reduceRight===v)return i&&(e=F.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var s=F.toArray(t).reverse();return i&&!r&&(e=F.bind(e,i)),r?F.reduce(s,e,n,i):F.reduce(s,e)},F.find=F.detect=function(t,e,n){var i;return k(t,function(t,r,s){return e.call(n,t,r,s)?(i=t,!0):void 0}),i},F.filter=F.select=function(t,e,n){var i=[];return null==t?i:g&&t.filter===g?t.filter(e,n):(E(t,function(t,r,s){e.call(n,t,r,s)&&(i[i.length]=t)}),i)},F.reject=function(t,e,n){var i=[];return null==t?i:(E(t,function(t,r,s){e.call(n,t,r,s)||(i[i.length]=t)}),i)},F.every=F.all=function(t,e,n){var r=!0;return null==t?r:m&&t.every===m?t.every(e,n):(E(t,function(t,s,o){return(r=r&&e.call(n,t,s,o))?void 0:i}),!!r)};var k=F.some=F.any=function(t,e,n){e||(e=F.identity);var r=!1;return null==t?r:y&&t.some===y?t.some(e,n):(E(t,function(t,s,o){return r||(r=e.call(n,t,s,o))?i:void 0}),!!r)};F.include=F.contains=function(t,e){var n=!1;return null==t?n:_&&t.indexOf===_?-1!=t.indexOf(e):n=k(t,function(t){return t===e})},F.invoke=function(t,e){var n=a.call(arguments,2);return F.map(t,function(t){return(F.isFunction(e)?e:t[e]).apply(t,n)})},F.pluck=function(t,e){return F.map(t,function(t){return t[e]})},F.max=function(t,e,n){if(!e&&F.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&F.isEmpty(t))return-1/0;var i={computed:-1/0};return E(t,function(t,r,s){var o=e?e.call(n,t,r,s):t;o>=i.computed&&(i={value:t,computed:o})}),i.value},F.min=function(t,e,n){if(!e&&F.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&F.isEmpty(t))return 1/0;var i={computed:1/0};return E(t,function(t,r,s){var o=e?e.call(n,t,r,s):t;o<i.computed&&(i={value:t,computed:o})}),i.value},F.shuffle=function(t){var e,n=[];return E(t,function(t,i){e=Math.floor(Math.random()*(i+1)),n[i]=n[e],n[e]=t}),n},F.sortBy=function(t,e,n){var i=F.isFunction(e)?e:function(t){return t[e]};return F.pluck(F.map(t,function(t,e,r){return{value:t,criteria:i.call(n,t,e,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;return void 0===n?1:void 0===i?-1:i>n?-1:n>i?1:0}),"value")},F.groupBy=function(t,e){var n={},i=F.isFunction(e)?e:function(t){return t[e]};return E(t,function(t,e){var r=i(t,e);(n[r]||(n[r]=[])).push(t)}),n},F.sortedIndex=function(t,e,n){n||(n=F.identity);for(var i=n(e),r=0,s=t.length;s>r;){var o=r+s>>1;n(t[o])<i?r=o+1:s=o}return r},F.toArray=function(t){return t?F.isArray(t)?a.call(t):F.isArguments(t)?a.call(t):t.toArray&&F.isFunction(t.toArray)?t.toArray():F.values(t):[]},F.size=function(t){return F.isArray(t)?t.length:F.keys(t).length},F.first=F.head=F.take=function(t,e,n){return null==e||n?t[0]:a.call(t,0,e)},F.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},F.last=function(t,e,n){return null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},F.rest=F.tail=function(t,e,n){return a.call(t,null==e||n?1:e)},F.compact=function(t){return F.filter(t,function(t){return!!t})};var C=function(t,e,n){return E(t,function(t){F.isArray(t)?e?u.apply(n,t):C(t,e,n):n.push(t)}),n};F.flatten=function(t,e){return C(t,e,[])},F.without=function(t){return F.difference(t,a.call(arguments,1))},F.uniq=F.unique=function(t,e,n){var i=n?F.map(t,n):t,r=[];return F.reduce(i,function(n,i,s){return(e?F.last(n)===i&&n.length:F.include(n,i))||(n.push(i),r.push(t[s])),n},[]),r},F.union=function(){return F.uniq(C(arguments,!0,[]))},F.intersection=function(t){var e=a.call(arguments,1);return F.filter(F.uniq(t),function(t){return F.every(e,function(e){return F.indexOf(e,t)>=0})})},F.difference=function(t){var e=C(a.call(arguments,1),!0,[]);return F.filter(t,function(t){return!F.include(e,t)})},F.zip=function(){for(var t=a.call(arguments),e=F.max(F.pluck(t,"length")),n=new Array(e),i=0;e>i;i++)n[i]=F.pluck(t,""+i);return n},F.zipObject=function(t,e){for(var n={},i=0,r=t.length;r>i;i++)n[t[i]]=e[i];return n},F.indexOf=function(t,e,n){if(null==t)return-1;var i,r;if(n)return i=F.sortedIndex(t,e),t[i]===e?i:-1;if(_&&t.indexOf===_)return t.indexOf(e);for(i=0,r=t.length;r>i;i++)if(t[i]===e)return i;return-1},F.lastIndexOf=function(t,e){if(null==t)return-1;if(b&&t.lastIndexOf===b)return t.lastIndexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1},F.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,s=new Array(i);i>r;)s[r++]=t,t+=n;return s};var A=function(){};F.bind=function(t,e){var n,i;if(t.bind===x&&x)return x.apply(t,a.call(arguments,1));if(!F.isFunction(t))throw new TypeError;return i=a.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,i.concat(a.call(arguments)));A.prototype=t.prototype;var r=new A,s=t.apply(r,i.concat(a.call(arguments)));return Object(s)===s?s:r}},F.bindAll=function(t){var e=a.call(arguments,1);return 0==e.length&&(e=F.functions(t)),E(e,function(e){t[e]=F.bind(t[e],t)}),t},F.memoize=function(t,e){var n={};return e||(e=F.identity),function(){var i=e.apply(this,arguments);return F.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},F.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},F.defer=function(t){return F.delay.apply(F,[t,1].concat(a.call(arguments,1)))},F.throttle=function(t,e){var n,i,r,s,o,u,a=F.debounce(function(){o=s=!1},e);return function(){n=this,i=arguments;var l=function(){r=null,o&&t.apply(n,i),a()};return r||(r=setTimeout(l,e)),s?o=!0:(s=!0,u=t.apply(n,i)),a(),u}},F.debounce=function(t,e,n){var i;return function(){var r=this,s=arguments,o=function(){i=null,n||t.apply(r,s)},u=n&&!i;clearTimeout(i),i=setTimeout(o,e),u&&t.apply(r,s)}},F.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments))}},F.wrap=function(t,e){return function(){var n=[t].concat(a.call(arguments,0));return e.apply(this,n)}},F.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},F.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},F.keys=$||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)F.has(t,n)&&(e[e.length]=n);return e},F.values=function(t){return F.map(t,F.identity)},F.functions=F.methods=function(t){var e=[];for(var n in t)F.isFunction(t[n])&&e.push(n);return e.sort()},F.extend=function(t){return E(a.call(arguments,1),function(e){for(var n in e)t[n]=e[n]}),t},F.pick=function(t){var e={};return E(C(a.call(arguments,1),!0,[]),function(n){n in t&&(e[n]=t[n])}),e},F.defaults=function(t){return E(a.call(arguments,1),function(e){for(var n in e)null==t[n]&&(t[n]=e[n])}),t},F.clone=function(t){return F.isObject(t)?F.isArray(t)?t.slice():F.extend({},t):t},F.tap=function(t,e){return e(t),t},F.isEqual=function(e,n){return t(e,n,[])},F.isEmpty=function(t){if(null==t)return!0;if(F.isArray(t)||F.isString(t))return 0===t.length;for(var e in t)if(F.has(t,e))return!1;return!0},F.isElement=function(t){return!(!t||1!=t.nodeType)},F.isArray=w||function(t){return"[object Array]"==c.call(t)},F.isObject=function(t){return t===Object(t)},F.isArguments=function(t){return"[object Arguments]"==c.call(t)},F.isArguments(arguments)||(F.isArguments=function(t){return!(!t||!F.has(t,"callee"))}),F.isFunction=function(t){return"[object Function]"==c.call(t)},F.isString=function(t){return"[object String]"==c.call(t)},F.isNumber=function(t){return"[object Number]"==c.call(t)},F.isFinite=function(t){return F.isNumber(t)&&isFinite(t)},F.isNaN=function(t){return t!==t},F.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},F.isDate=function(t){return"[object Date]"==c.call(t)},F.isRegExp=function(t){return"[object RegExp]"==c.call(t)},F.isNull=function(t){return null===t},F.isUndefined=function(t){return void 0===t},F.has=function(t,e){return h.call(t,e)},F.noConflict=function(){return e._=n,this},F.identity=function(t){return t},F.times=function(t,e,n){for(var i=0;t>i;i++)e.call(n,i)};var S={"&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},T=/[&<>"'\/]/g;F.escape=function(t){return(""+t).replace(T,function(t){return S[t]})},F.result=function(t,e){if(null==t)return null;var n=t[e];return F.isFunction(n)?n.call(t):n},F.mixin=function(t){E(F.functions(t),function(e){B(e,F[e]=t[e])})};var O=0;F.uniqueId=function(t){var e=O++;return t?t+e:e},F.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/.^/,V={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var M in V)V[V[M]]=M;var z=/\\|'|\r|\n|\t|\u2028|\u2029/g,q=/\\(\\|'|r|n|t|u2028|u2029)/g,I=function(t){return t.replace(q,function(t,e){return V[e]})};F.template=function(t,e,n){n=F.defaults(n||{},F.templateSettings);var i="__p+='"+t.replace(z,function(t){return"\\"+V[t]}).replace(n.escape||j,function(t,e){return"'+\n((__t=("+I(e)+"))==null?'':_.escape(__t))+\n'"}).replace(n.interpolate||j,function(t,e){return"'+\n((__t=("+I(e)+"))==null?'':__t)+\n'"}).replace(n.evaluate||j,function(t,e){return"';\n"+I(e)+"\n__p+='"})+"';\n";n.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'')};\n"+i+"return __p;\n";var r=new Function(n.variable||"obj","_",i);if(e)return r(e,F);var s=function(t){return r.call(this,t,F)};return s.source="function("+(n.variable||"obj")+"){\n"+i+"}",s},F.chain=function(t){return F(t).chain()};var N=function(t){this._wrapped=t};F.prototype=N.prototype;var P=function(t,e){return e?F(t).chain():t},B=function(t,e){N.prototype[t]=function(){var t=a.call(arguments);return l.call(t,this._wrapped),P(e.apply(F,t),this._chain)}};F.mixin(F),E(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];N.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],P(n,this._chain)}}),E(["concat","join","slice"],function(t){var e=r[t];N.prototype[t]=function(){return P(e.apply(this._wrapped,arguments),this._chain)}}),N.prototype.chain=function(){return this._chain=!0,this},N.prototype.value=function(){return this._wrapped}}).call(this),function(){var t,e=this,n=e.Backbone,i=Array.prototype.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="0.9.2";var r=e._;r||"undefined"==typeof require||(r=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender,t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=/\s+/,o=t.Events={on:function(t,e,n){var i,r,o;if(!e)return this;for(t=t.split(s),i=this._callbacks||(this._callbacks={});r=t.shift();)o=i[r]||(i[r]=[]),o.push(e,n);return this},off:function(t,e,n){var i,o,u,a;if(!(o=this._callbacks))return this;if(!(t||e||n))return delete this._callbacks,this;for(t=t?t.split(s):r.keys(o);i=t.shift();)if((u=o[i])&&(e||n))for(a=u.length-2;a>=0;a-=2)e&&u[a]!==e||n&&u[a+1]!==n||u.splice(a,2);else delete o[i];return this},trigger:function(t){var e,n,i,r,o,u,a,l;if(!(n=this._callbacks))return this;for(l=[],t=t.split(s),r=1,o=arguments.length;o>r;r++)l[r-1]=arguments[r];for(;e=t.shift();){if((a=n.all)&&(a=a.slice()),(i=n[e])&&(i=i.slice()),i)for(r=0,o=i.length;o>r;r+=2)i[r].apply(i[r+1]||this,l);if(a)for(u=[e].concat(l),r=0,o=a.length;o>r;r+=2)a[r].apply(a[r+1]||this,u)}return this}};o.bind=o.on,o.unbind=o.off;var u=t.Model=function(t,e){var n;t||(t={}),e&&e.parse&&(t=this.parse(t)),(n=F(this,"defaults"))&&(t=r.extend({},n,t)),e&&e.collection&&(this.collection=e.collection),this.attributes={},this._escapedAttributes={},this.cid=r.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(t,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=r.clone(this.attributes),this.initialize.apply(this,arguments)};r.extend(u.prototype,o,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return r.clone(this.attributes)},get:function(t){return this.attributes[t]},escape:function(t){var e;if(e=this._escapedAttributes[t])return e;var n=this.get(t);return this._escapedAttributes[t]=r.escape(null==n?"":""+n)},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,s,o;if(r.isObject(t)||null==t?(i=t,n=e):(i={},i[t]=e),n||(n={}),!i)return this;if(i instanceof u&&(i=i.attributes),n.unset)for(s in i)i[s]=void 0;if(!this._validate(i,n))return!1;this.idAttribute in i&&(this.id=i[this.idAttribute]);var a=n.changes={},l=this.attributes,c=this._escapedAttributes,h=this._previousAttributes||{};for(s in i)o=i[s],(!r.isEqual(l[s],o)||n.unset&&r.has(l,s))&&(delete c[s],(n.silent?this._silent:a)[s]=!0),n.unset?delete l[s]:l[s]=o,r.isEqual(h[s],o)&&r.has(l,s)==r.has(h,s)?(delete this.changed[s],delete this._pending[s]):(this.changed[s]=o,n.silent||(this._pending[s]=!0));return n.silent||this.change(n),this},unset:function(t,e){return e=r.extend({},e,{unset:!0}),this.set(t,null,e)},clear:function(t){return t=r.extend({},t,{unset:!0}),this.set(r.clone(this.attributes),t)},fetch:function(e){e=e?r.clone(e):{};var n=this,i=e.success;return e.success=function(t,r,s){return n.set(n.parse(t,s),e)?void(i&&i(n,t,e)):!1},e.error=t.wrapError(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},save:function(e,n,i){var s,o;if(r.isObject(e)||null==e?(s=e,i=n):(s={},s[e]=n),i=i?r.clone(i):{},i.wait){if(!this._validate(s,i))return!1;o=r.clone(this.attributes)}var u=r.extend({},i,{silent:!0});if(s&&!this.set(s,i.wait?u:i))return!1;var a=this,l=i.success;i.success=function(t,e,n){var o=a.parse(t,n);return i.wait&&(delete i.wait,o=r.extend(s||{},o)),a.set(o,i)?void(l?l(a,t,i):a.trigger("sync",a,t,i)):!1},i.error=t.wrapError(i.error,a,i);var c=this.isNew()?"create":"update",h=(this.sync||t.sync).call(this,c,this,i);return i.wait&&this.clear(u).set(o,u),h},destroy:function(e){e=e?r.clone(e):{};var n=this,i=e.success,s=function(){n.trigger("destroy",n,n.collection,e)};if(this.isNew())return s(),!1;e.success=function(t){e.wait&&s(),i?i(n,t,e):n.trigger("sync",n,t,e)},e.error=t.wrapError(e.error,n,e);var o=(this.sync||t.sync).call(this,"delete",this,e);return e.wait||s(),o},url:function(){var t=F(this,"urlRoot")||F(this.collection,"url")||E();return this.isNew()?t:t+("/"==t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(t){t||(t={});var e=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var i=r.extend({},t.changes,this._silent);this._silent={};for(var n in i)this.trigger("change:"+n,this,this.get(n),t);if(e)return this;for(;!r.isEmpty(this._pending);){this._pending={},this.trigger("change",this,t);for(var n in this.changed)this._pending[n]||this._silent[n]||delete this.changed[n];this._previousAttributes=r.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(t){return null==t?!r.isEmpty(this.changed):r.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?r.clone(this.changed):!1;var e,n=!1,i=this._previousAttributes;for(var s in t)r.isEqual(i[s],e=t[s])||((n||(n={}))[s]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return r.clone(this._previousAttributes)},isValid:function(){return!this.validate||!this.validate(this.attributes)},_validate:function(t,e){if(e.silent||!this.validate)return!0;t=r.extend({},this.attributes,t);var n=this.validate(t,e);return n?(e&&e.error?e.error(this,n,e):this.trigger("error",this,n,e),!1):!0}});var a=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,{silent:!0,parse:e.parse})};r.extend(a.prototype,o,{model:u,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},add:function(t,e){var n,s,o,u,a,l,c={},h={},p=[];for(e||(e={}),t=r.isArray(t)?t.slice():[t],n=0,o=t.length;o>n;n++){if(!(u=t[n]=this._prepareModel(t[n],e)))throw new Error("Can't add an invalid model to a collection");a=u.cid,l=u.id,c[a]||this._byCid[a]||null!=l&&(h[l]||this._byId[l])?p.push(n):c[a]=h[l]=u}for(n=p.length;n--;)p[n]=t.splice(p[n],1)[0];for(n=0,o=t.length;o>n;n++)(u=t[n]).on("all",this._onModelEvent,this),this._byCid[u.cid]=u,null!=u.id&&(this._byId[u.id]=u);if(this.length+=o,s=null!=e.at?e.at:this.models.length,i.apply(this.models,[s,0].concat(t)),this.comparator&&null==e.at&&this.sort({silent:!0}),e.merge)for(n=0,o=p.length;o>n;n++)(u=this._byId[p[n].id])&&u.set(p[n],e);if(e.silent)return this;for(n=0,o=this.models.length;o>n;n++)c[(u=this.models[n]).cid]&&(e.index=n,u.trigger("add",u,this,e));return this},remove:function(t,e){var n,i,s,o;for(e||(e={}),t=r.isArray(t)?t.slice():[t],n=0,i=t.length;i>n;n++)o=this.getByCid(t[n])||this.get(t[n]),o&&(delete this._byId[o.id],delete this._byCid[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,e.silent||(e.index=s,o.trigger("remove",o,this,e)),this._removeReference(o));return this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,e),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,r.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t]},getByCid:function(t){return t&&this._byCid[t.cid||t]},at:function(t){return this.models[t]},where:function(t){return r.isEmpty(t)?[]:this.filter(function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},sort:function(t){if(t||(t={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var e=r.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("reset",this,t),this},pluck:function(t){return r.map(this.models,function(e){return e.get(t)})},reset:function(t,e){t||(t=[]),e||(e={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return this._reset(),this.add(t,r.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},fetch:function(e){e=e?r.clone(e):{},void 0===e.parse&&(e.parse=!0);var n=this,i=e.success;return e.success=function(t,r,s){n[e.add?"add":"reset"](n.parse(t,s),e),i&&i(n,t,e)},e.error=t.wrapError(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},create:function(t,e){var n=this;if(e=e?r.clone(e):{},t=this._prepareModel(t,e),!t)return!1;e.wait||n.add(t,e);var i=e.success;return e.success=function(r,s){e.wait&&n.add(r,e),i?i(r,s,e):r.trigger("sync",t,s,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},chain:function(){return r(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(t,e){if(t instanceof u)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(n.attributes,e)?n:!1},_removeReference:function(t){this==t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!=t&&"remove"!=t||n==this)&&("destroy"==t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var l=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];r.each(l,function(t){a.prototype[t]=function(){return r[t].apply(r,[this.models].concat(r.toArray(arguments)))}});var c=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},h=/:\w+/g,p=/\*\w+/g,d=/[-[\]{}()+?.,\\^$|#\s]/g;r.extend(c.prototype,o,{initialize:function(){},route:function(e,n,i){return t.history||(t.history=new f),r.isRegExp(e)||(e=this._routeToRegExp(e)),i||(i=this[n]),t.history.route(e,r.bind(function(r){var s=this._extractParameters(e,r);i&&i.apply(this,s),this.trigger.apply(this,["route:"+n].concat(s)),t.history.trigger("route",this,n,s)},this)),this},navigate:function(e,n){t.history.navigate(e,n)},_bindRoutes:function(){if(this.routes){var t=[];for(var e in this.routes)t.unshift([e,this.routes[e]]);for(var n=0,i=t.length;i>n;n++)this.route(t[n][0],t[n][1],this[t[n][1]])}},_routeToRegExp:function(t){return t=t.replace(d,"\\$&").replace(h,"([^/]+)").replace(p,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}});var f=t.History=function(){this.handlers=[],r.bindAll(this,"checkUrl")},v=/^[#\/]/,g=/msie [\w.]+/;f.started=!1,r.extend(f.prototype,o,{interval:50,getHash:function(t){var e=t?t.location:window.location,n=e.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(t,e){return null==t&&(t=this._hasPushState||!this._wantsHashChange||e?window.location.pathname:this.getHash()),t.indexOf(this.options.root)||(t=t.substr(this.options.root.length)),t.replace(v,"")},start:function(e){if(f.started)throw new Error("Backbone.history has already been started");f.started=!0,this.options=r.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var n=this.getFragment(),i=document.documentMode,s=g.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);s&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?t.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=window.location,u=o.pathname==this.options.root&&!o.search;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!u?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+window.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&u&&o.hash&&(this.fragment=this.getHash().replace(v,""),window.history.replaceState({},document.title,o.protocol+"//"+o.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),f.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t==this.fragment?!1:(this.iframe&&this.navigate(t),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=r.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return n},navigate:function(t,e){if(!f.started)return!1;e&&e!==!0||(e={trigger:e});var n=(t||"").replace(v,"");if(this.fragment!=n){var i=(0!=n.indexOf(this.options.root)?this.options.root:"")+n;if(this._hasPushState)this.fragment=i,window.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return window.location.assign(i);this.fragment=n,this._updateHash(window.location,n,e.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,n){n?t.replace(t.toString().replace(/(javascript:|#).*$/,"")+"#"+e):t.hash=e}});var m=t.View=function(t){this.cid=r.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},y=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName"];r.extend(m.prototype,o,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},destroy:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,n,i){var r=document.createElement(e);return n&&t.$(r).attr(n),null!=i&&t.$(r).html(i),r},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=F(this,"events"))){this.undelegateEvents();for(var e in t){var n=t[e];if(r.isFunction(n)||(n=this[t[e]]),!n)throw new Error('Method "'+t[e]+'" does not exist');var i=e.match(y),s=i[1],o=i[2];n=r.bind(n,this),s+=".delegateEvents"+this.cid,""===o?this.$el.bind(s,n):this.$el.delegate(o,s,n)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=r.extend({},this.options,t));for(var e=0,n=_.length;n>e;e++){var i=_[e];t[i]&&(this[i]=t[i])}this.options=t},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var t=r.extend({},F(this,"attributes"));this.id&&(t.id=this.id),this.className&&(t["class"]=this.className),this.setElement(this.make(F(this,"tagName"),t),!1)}}});var b=function(t,e){var n=x(this,t,e);return n.extend=this.extend,n};u.extend=a.extend=c.extend=m.extend=b;var w={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};t.sync=function(e,n,i){var s=w[e];i||(i={});var o={type:s,dataType:"json"};return i.url||(o.url=F(n,"url")||E()),i.data||!n||"create"!=e&&"update"!=e||(o.contentType="application/json",o.data=JSON.stringify(n)),t.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),t.emulateHTTP&&("PUT"===s||"DELETE"===s)&&(t.emulateJSON&&(o.data._method=s),o.type="POST",o.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",s)}),"GET"===o.type||t.emulateJSON||(o.processData=!1),t.ajax(r.extend(o,i))},t.ajax=function(){return t.$.ajax.apply(t.$,arguments)},t.wrapError=function(t,e,n){return function(i,r){r=i===e?r:i,t?t(e,r,n):e.trigger("error",e,r,n)}};var $=function(){},x=function(t,e,n){var i;return i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},r.extend(i,t),$.prototype=t.prototype,i.prototype=new $,e&&r.extend(i.prototype,e),n&&r.extend(i,n),i.prototype.constructor=i,i.__super__=t.prototype,i},F=function(t,e){return t&&t[e]?r.isFunction(t[e])?t[e]():t[e]:null},E=function(){throw new Error('A "url" property or function must be specified')}}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Views||(this.Views={}),Views.Form=function(e){function i(){return this._onSubmit=t(this._onSubmit,this),i.__super__.constructor.apply(this,arguments)}var r,s,o;return n(i,e),i.prototype.events={"focus input, select":function(t){var e,n;return e=$(t.target),n=e.closest("fieldset"),this.activateFieldset(n)},"change input[name=has_mailing_address]":function(t){return o(this.$("fieldset.mailing-address"),t.target.checked),this._onFieldChange()},"change input[name=change_of_address]":function(t){return o(this.$("fieldset.previous-address"),t.target.checked),this._onFieldChange()},"change input[name=change_of_name]":function(t){return o(this.$("fieldset.previous-name"),t.target.checked),this._onFieldChange()}},s=function(t){return t.slideDown().removeClass("closed").find('input, select[name="name_title"], select[name="prev_name_title"]').attr("required",!0)},r=function(t){return t.slideUp().addClass("closed").find('input, select[name="name_title"], select[name="prev_name_title"]').attr("required",!1)},o=function(t,e){return void 0===e&&(e=t.hasClass("closed")),e?s(t):r(t)},i.prototype.initialize=function(){var t,e,n,i,r;return this.$fieldsets=this.$("fieldset"),this.$inputs=this.$(":text, select, input[type=email], input[type=date], input[type=checkbox]"),this.$button=this.$(".button-primary"),this.$button.on("click",this._onSubmit),this.fields=function(){var s,o,u,a;for(u=this.$inputs,a=[],s=0,o=u.length;o>s;s++)n=u[s],e=n.name,e=e.charAt(0).toUpperCase()+e.slice(1),r=e.replace(/_\D/g,function(t){return t.charAt(1).toUpperCase()}),i=Views[""+r+"FormField"]||Views.FormField,t=new i({el:$(n).closest(".input"),input:n}),t.on("change",this._onFieldChange,this),a.push(t);return a}.call(this),this},i.prototype.valid=function(){return _.all(_.invoke(this.fields,"valid"),_.identity)},i.prototype.enableButton=function(){return this.$button.removeClass("disabled")},i.prototype.disableButton=function(){return this.$button.addClass("disabled")},i.prototype.focusInputByIndex=function(t){return this.$inputs[t].focus(),this},i.prototype.activateFieldset=function(t){return this.$fieldsets.removeClass("active"),t.hasClass("submit")||t.addClass("active"),this},i.prototype._onFieldChange=function(){return this.valid()?this.enableButton():this.disableButton(),this},i.prototype._onSubmit=function(t){var e,n,i;return $(".error-list").remove(),this.$button.hasClass("disabled")?(t.preventDefault(),n=[],_.forEach(this.fields,function(t){return t.validate(),t.valid()?void 0:n.push({name:t.$input.siblings("label").text(),error:t.errorMessage})}),e=$("<ul class='error-list'></ul>"),i="<h2>Please correct the following errors:</h2>",_.forEach(n,function(t){return i+=t.name?"<li>"+t.name+": "+t.error+"</li>":"<li>"+t.error+"</li>"
}),e.html(i),$("fieldset.name").prepend(e),!1):!0},i}(Backbone.View),Views.FormField=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.errorMessage="This field is required",e.prototype.initialize=function(){var t=this;return this.getErrorTip(),this.input=this.options.input,this.$input=$(this.input),this.$input.on("blur",function(){return t._onChange()}),this.$input.on("blur",function(){return t.validate()}),this.$input.on("focus",function(){return t.showTooltip()}),this.$input.on("blur",function(){return t.hideTooltip()}),this.required=function(){return"undefined"!=typeof this.input.required&&""!==this.input.required?this.input.required:!!this.$input.attr("required")}},e.prototype.value=function(){return $.trim(this.input.value)},e.prototype.valid=function(){var t;return t=this.value(),this.required()&&""===t?!1:!0},e.prototype.validate=function(){return this.valid()?this.hideError():this.showError(),this},e.prototype.showTooltip=function(){return this.$el.addClass("tooltip-open")},e.prototype.hideTooltip=function(){return this.$el.removeClass("tooltip-open")},e.prototype.showError=function(){return this.$el.addClass("error")},e.prototype.hideError=function(){return this.$el.removeClass("error")},e.prototype.getErrorTip=function(){return this.$tooltip||(this.$tooltip=this.$(".tooltip").length?this.$(".tooltip"):$("<div class='tooltipyo'>"+this.errorMessage+"</div>").appendTo(this.el))},e.prototype._onChange=function(){return this.trigger("change")},e}(Backbone.View),Views.IdNumberFormField=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.events={"click .id-number-hint-icon":"toggleHint"},e.prototype.valid=function(){return this.value()?/^(none|\d{4}|[-*A-Z0-9]{7,42})$/i.test(this.value()):!0},e.prototype.toggleHint=function(){return this.$el.toggleClass("tooltip-open")},e}(Views.FormField),Views.RaceFormField=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.errorMessage="Enter your race or ethnic group.",e.prototype.valid=function(){return this.required()?"Select One..."!==this.value():!0},e}(Views.FormField),Views.PartyFormField=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.errorMessage="Select your political affiliation.",e.prototype.valid=function(){return this.required()?"Select One..."!==this.value():!0},e}(Views.FormField),Views.NameTitleFormField=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.errorMessage="Title is required.",e.prototype.valid=function(){return this.required()?"--"!==this.value():!0},e}(Views.FormField),Views.PrevNameTitleFormField=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.valid=function(){return this.required()?"--"!==this.value():!0},e}(Views.FormField),Views.HomeZipCodeFormField=function(e){function i(){return this.valid=t(this.valid,this),this.zipLookUp=t(this.zipLookUp,this),this.initialize=t(this.initialize,this),i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.errorMessage="Enter a valid 5 digit zip code.",i.prototype.initialize=function(){var t=this;return i.__super__.initialize.call(this),this.$el.on("change blur",function(){return t.zipLookUp(t.value())})},i.prototype.zipLookUp=function(t){var e=this;return $.ajax({type:"get",url:"/usps/zip_lookup/",data:{zip:t},success:function(t){var n,i;return null!=t.state?(n=t.city,i=t.state,e.$el.children('input[id$="_city"]').val(n),e.$el.children('input[id$="_state_id"]').val(i),e.$el.children(".zip-code-location-hint").text(""+n+", "+i)):void 0}})},i.prototype.valid=function(){return this.required()?/^((\d{5}(-\d{4}))|(\d{5}))$/.test(this.value()):!0},i}(Views.FormField),Views.MailingZipCodeFormField=function(e){function i(){return this.valid=t(this.valid,this),i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.valid=function(){return i.__super__.valid.call(this)},i}(Views.HomeZipCodeFormField),Views.PrevZipCodeFormField=function(e){function i(){return this.valid=t(this.valid,this),i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.valid=function(){return i.__super__.valid.call(this)},i}(Views.HomeZipCodeFormField),Views.EmailAddressFormField=function(e){function i(){return this.valid=t(this.valid,this),i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.errorMessage="Enter a valid email address",i.prototype.valid=function(){var t;return t=/^(([^<>()\[\]\\.,;:\s@\"]+(\.[^<>()\[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,i.__super__.valid.apply(this,arguments)&&t.test(this.value())},i}(Views.FormField),Views.DateOfBirthFormField=function(e){function i(){return this.valid=t(this.valid,this),i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.errorMessage="Enter your birthdate in MM/DD/YYYY format",i.prototype.valid=function(){var t,e,n,i,r;return r=[],_(this.value().split(/[\-\/\s\.]/g)).each(function(t){return 1===t.length&&(t="0"+t),r.push(t)}),this.$input.val(r.join("/")),this.value().match(/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.](19|20)\d\d+$/)?(i=new Date,e=new Date(this.value()),t=i.getFullYear()-e.getFullYear(),n=i.getMonth()-e.getMonth,(0>n||0===n&&i.getDate()<e.getDate())&&t--,17>t?(this.$input.siblings(".tooltip").text("You must turn 18 by the next election to register to vote."),!1):(this.$input.siblings(".tooltip").text(this.errorMessage),!0)):!1},i}(Views.FormField),Views.PhoneFormField=function(e){function i(){return this.valid=t(this.valid,this),i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.errorMessage="Enter a phone number in xxx-xxx-xxxx format",i.prototype.valid=function(){var t;return this.$input.attr("required")===!0||this.value().length>0?(t=/(1-)?[(]*(\d{3})[) -.]*(\d{3})[ -.]*(\d{4})\D*/,t.test(this.value())):!0},i}(Views.FormField),Views.UsCitizenFormField=function(e){function i(){return this.valid=t(this.valid,this),i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.errorMessage="Must be a citizen to register",i.prototype.initialize=function(){var t=this;return i.__super__.initialize.call(this),this.$input.on("change",function(){return t.valid()?t.hideTooltip():t.showTooltip()})},i.prototype.valid=function(){return this.$input.attr("checked")?!0:!1},i}(Views.FormField),Views.IsEighteenOrOlderFormField=function(e){function i(){return this.valid=t(this.valid,this),i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.errorMessage="You must turn 18 by the next election to register to vote.",i.prototype.initialize=function(){var t=this;return i.__super__.initialize.call(this),this.$input.on("change",function(){return t.valid()?t.hideTooltip():t.showTooltip()})},i.prototype.valid=function(){return this.$input.attr("checked")?!0:!1},i}(Views.FormField),Views.IsDisclosureDisplayedFormField=function(e){function i(){return this.valid=t(this.valid,this),i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.errorMessage="In order to finish your registration with the state of California, you must accept the disclosures.",i.prototype.initialize=function(){var t=this;return i.__super__.initialize.call(this),this.$input.on("change",function(){return t.valid()?t.hideTooltip():t.showTooltip()})},i.prototype.valid=function(){return this.$input.attr("checked")?!0:!1},i}(Views.FormField),Views.OptInSmsFormField=function(e){function i(){return this.valid=t(this.valid,this),i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.errorMessage="Phone number required to receive text messages",i.prototype.initialize=function(){var t=this;return i.__super__.initialize.call(this),this.$input.on("change",function(){return t.valid()?t.hideTooltip():t.showTooltip()})},i.prototype.valid=function(){return this.$input.attr("checked")&&!$("input#phone").val()?!1:!0},i}(Views.FormField),Views.PartnerOptInSmsFormField=function(e){function i(){return this.valid=t(this.valid,this),i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.errorMessage="Phone number required to receive text messages",i.prototype.initialize=function(){var t=this;return i.__super__.initialize.call(this),this.$input.on("change",function(){return t.valid()?t.hideTooltip():t.showTooltip()})},i.prototype.valid=function(){return this.$input.attr("checked")&&!$("input#phone").val()?!1:!0},i}(Views.FormField),Views.State=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.events={"change select":"selectState","regionClick.jqvmap #map":"selectState"},e.prototype.initialize=function(){return this.$button=this.$(".button-primary"),this.$select=this.$("#state"),this.$map=this.$("#map"),this.$map.vectorMap({backgroundColor:"transparent",borderColor:"#A1A09F",borderOpacity:1,borderWidth:1,color:"transparent",enableZoom:!1,map:"usa_en",selectedColor:"#21CB00",showTooltip:!0}),this.$path=$("<path/>").css({display:"none"}).appendTo(this.$map.find("svg g"))},e.prototype.selectState=function(t,e){if(!e){if(e=this.$select.val(),!e){this.disableButton();try{this.$path.click()}catch(n){}return}this.$map.find("#jqvmap1_"+e.toLowerCase("")).click()}return this.$select.val(e.toUpperCase()),this.$select.trigger("focus"),this.enableButton()},e.prototype.enableButton=function(){return this.$button.prop("disabled",!1)},e.prototype.disableButton=function(){return this.$button.prop("disabled",!0)},e}(Backbone.View)}.call(this),function(){$(function(){return $(":checkbox").each(function(){var t,e,n;return t=$(this),e=$("<div class='fake-checkbox'></div>"),e.addClass(t.attr("class")),t.wrap("<div class='fake-checkbox-wrap'></div>"),t.parent().append(e),n=function(){return e.toggleClass("checked",t.prop("checked")),e.toggleClass("focus",document.activeElement===this)},t.on("change blur focus keyup",n),n(),this}),$("select").each(function(){var t,e,n;return t=$(this),e=$("<div class='fake-select'></div>"),e.addClass(t.attr("class")),t.wrap("<div class='fake-select-wrap'></div>"),t.parent().append(e),n=function(){return e.text(t.children("option:selected").text()),e.toggleClass("focus",document.activeElement===this)},t.on("change blur focus keyup",n),n(),this})})}.call(this);